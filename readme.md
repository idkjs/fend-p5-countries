On line 108, the code is not DRY because in order to use the getJSON returned data the contentstring has to be in the
scope of the json request. Got solution from stackoverflow but cant find link now.